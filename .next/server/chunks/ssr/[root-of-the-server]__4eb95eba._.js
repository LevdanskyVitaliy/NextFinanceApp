module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},21150,(a,b,c)=>{"use strict";b.exports=a.r(18622)},11718,(a,b,c)=>{"use strict";b.exports=a.r(21150).vendored["react-ssr"].ReactJsxRuntime},16876,(a,b,c)=>{"use strict";b.exports=a.r(21150).vendored["react-ssr"].React},67871,a=>{"use strict";let b=class{#a="http://localhost:3000";#b=null;async #c(a,b){let c=await fetch(this.#a+a,b);if(!c.ok){let a=await c.text();throw Error(`HTTP error ${c.status}: ${a}`)}return await c.json()}getAllCategories=async()=>{if(!this.#b){let a=await this.#c("/categories");this.#b=Array.isArray(a)?a:[]}return this.#b};createTransaction=a=>(this.#b=null,this.#c("/transactions",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}));deleteTransaction=a=>this.#c(`/transactions/${a}`,{method:"DELETE"});updateTransaction=(a,b)=>this.#c(`/transactions/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});getTransactionById=async a=>{let b=await fetch(`${this.#a}/transactions/${a}`);if(!b.ok){if(404===b.status)throw Error(`Transaction with id ${a} not found`);let c=await b.text();throw Error(`HTTP error ${b.status}: ${c}`)}return await b.json()};async getTransactions(a={}){let{page:b=1,limit:c=10,filters:d={},sort:e={field:"",direction:"desc"}}=a,f=new URLSearchParams({_page:b.toString(),_per_page:c.toString(),...d});return e.field&&f.set("_sort","desc"===e.direction?`-${e.field}`:e.field),{...await this.#c(`/transactions?${f.toString()}`),currentPage:b}}};a.s(["default",0,b])},79782,a=>{"use strict";var b=a.i(11718),c=a.i(16876),d=a.i(67871);let e=(0,c.createContext)(void 0),f=new d.default,g="transactions_table_options",h={page:1,limit:10,sort:{field:"date",direction:"desc"},filters:{}};function i({children:a}){let[d,i]=(0,c.useState)([]),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(1),[r,s]=(0,c.useState)(0),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(h),[x,y]=(0,c.useState)(!1);(0,c.useEffect)(()=>{w((()=>{try{let a=localStorage.getItem(g);if(a){let b=JSON.parse(a);if(b&&"object"==typeof b)return{page:Number(b.page)||h.page,limit:Number(b.limit)||h.limit,sort:b.sort||h.sort,filters:b.filters||h.filters}}}catch(a){console.error("Error loading saved table options:",a)}return h})()),y(!0)},[]),(0,c.useEffect)(()=>{if(x)try{localStorage.setItem(g,JSON.stringify(v))}catch(a){console.error("Error saving table options:",a)}},[v,x]),(0,c.useEffect)(()=>{x&&(A(v),z())},[x]);let z=async()=>{m(!0);try{let[a,b]=await Promise.all([f.getTransactions({page:1,limit:1e4,sort:{field:"date",direction:"desc"}}),f.getAllCategories()]);i(a.data||[]),Array.isArray(b)?k(b):k([])}catch(a){console.error("Error fetching data:",a)}finally{m(!1)}},A=(0,c.useCallback)(async a=>{u(!0);try{let b=await f.getTransactions({page:a.page,limit:a.limit,sort:a.sort?.field?{field:a.sort.field,direction:a.sort.direction||"desc"}:{field:"date",direction:"desc"},filters:a.filters});o(b.data||[]),q(b.pages||1),s(b.items||0),w(b=>JSON.stringify(b)===JSON.stringify(a)?b:a)}catch(a){console.error("Error fetching table data:",a),o([]),q(1),s(0)}finally{u(!1)}},[]),B=async()=>{await z(),await A(v)},C=async a=>{i(b=>[a,...b]),await z(),await A(v)},D=async a=>{try{if(await f.deleteTransaction(a),i(b=>b.filter(b=>b.id!==a)),o(b=>b.filter(b=>b.id!==a)),s(a=>Math.max(0,a-1)),1===n.length&&v.page>1){let a=v.page-1,b={...v,page:a};A(b)}else A(v)}catch(a){throw console.error("Error deleting transaction:",a),A(v),a}};return(0,b.jsx)(e.Provider,{value:{transactions:d,categories:j,loading:l,refreshData:B,addTransaction:C,tableData:{transactions:n,totalPages:p,totalItems:r,loading:t},fetchTableData:A,deleteTransaction:D,currentTableOptions:v},children:a})}function j(){let a=(0,c.useContext)(e);if(void 0===a)throw Error("useTransactions must be used within a TransactionProvider");return a}a.s(["TransactionProvider",()=>i,"useTransactions",()=>j])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4eb95eba._.js.map