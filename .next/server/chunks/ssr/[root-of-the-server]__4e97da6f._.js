module.exports=[75440,(a,b,c)=>{"use strict";b.exports=a.r(21150).vendored.contexts.HooksClientContext},87728,(a,b,c)=>{"use strict";b.exports=a.r(21150).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},72412,(a,b,c)=>{"use strict";b.exports=a.r(21150).vendored["react-ssr"].ReactDOM},19261,a=>{"use strict";var b=a.i(16876),c=a.i(72412),d=a.i(99674),e=a.i(11718),f=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,c)=>{let f=(0,d.createSlot)(`Primitive.${c}`),g=b.forwardRef((a,b)=>{let{asChild:d,...g}=a;return(0,e.jsx)(d?f:c,{...g,ref:b})});return g.displayName=`Primitive.${c}`,{...a,[c]:g}},{});function g(a,b){a&&c.flushSync(()=>a.dispatchEvent(b))}a.s(["Primitive",()=>f,"dispatchDiscreteCustomEvent",()=>g])},44258,a=>{"use strict";var b=a.i(11718),c=a.i(16876),d=a.i(19261),e="horizontal",f=["horizontal","vertical"],g=c.forwardRef((a,c)=>{var g;let{decorative:h,orientation:i=e,...j}=a,k=(g=i,f.includes(g))?i:e;return(0,b.jsx)(d.Primitive.div,{"data-orientation":k,...h?{role:"none"}:{"aria-orientation":"vertical"===k?k:void 0,role:"separator"},...j,ref:c})});g.displayName="Separator";var h=a.i(52923);function i({className:a,orientation:c="horizontal",decorative:d=!0,...e}){return(0,b.jsx)(g,{"data-slot":"separator",decorative:d,orientation:c,className:(0,h.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...e})}a.s(["Separator",()=>i],44258)},29287,a=>{"use strict";var b=a.i(11718),c=a.i(16876),d=a.i(19639),e=a.i(67871),f=a.i(49769),g=a.i(44258),h=a.i(99674),i=a.i(47676),j=a.i(52923);let k=(0,i.cva)("group/item flex items-center border border-transparent text-sm rounded-md transition-colors [a]:hover:bg-accent/50 [a]:transition-colors duration-100 flex-wrap outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",{variants:{variant:{default:"bg-transparent",outline:"border-border",muted:"bg-muted/50"},size:{default:"p-4 gap-4 ",sm:"py-3 px-4 gap-2.5"}},defaultVariants:{variant:"default",size:"default"}});function l({className:a,variant:c="default",size:d="default",asChild:e=!1,...f}){let g=e?h.Slot:"div";return(0,b.jsx)(g,{"data-slot":"item","data-variant":c,"data-size":d,className:(0,j.cn)(k({variant:c,size:d,className:a})),...f})}function m({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"item-content",className:(0,j.cn)("flex flex-1 flex-col gap-1 [&+[data-slot=item-content]]:flex-none",a),...c})}function n({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"item-title",className:(0,j.cn)("flex w-fit items-center gap-2 text-sm leading-snug font-medium",a),...c})}function o({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"item-actions",className:(0,j.cn)("flex items-center gap-2",a),...c})}(0,i.cva)("flex shrink-0 items-center justify-center gap-2 group-has-[[data-slot=item-description]]/item:self-start [&_svg]:pointer-events-none group-has-[[data-slot=item-description]]/item:translate-y-0.5",{variants:{variant:{default:"bg-transparent",icon:"size-8 border rounded-sm bg-muted [&_svg:not([class*='size-'])]:size-4",image:"size-10 rounded-sm overflow-hidden [&_img]:size-full [&_img]:object-cover"}},defaultVariants:{variant:"default"}});var p=a.i(42732),q=a.i(21892),r=a.i(19860),s=a.i(58924);function t(){let a=(0,d.useParams)().id,h=(0,d.useRouter)(),i=new e.default,[j,k]=(0,c.useState)([]),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null);function B(a){if(!t)return;let{name:b,value:c}=a.target;u(a=>({...a,[b]:"amount"===b?parseFloat(c)||0:c}))}function C(a,b){t&&u(c=>({...c,[a]:b}))}async function D(a){if(a.preventDefault(),t&&t.id){y(!0),A(null);try{await i.updateTransaction(t.id,{amount:t.amount,category:t.category,description:t.description,type:t.type,date:new Date(t.date).toISOString()}),h.push("/")}catch(a){console.error("Error updating transaction:",a),A("Failed to save transaction")}finally{y(!1)}}}return((0,c.useEffect)(()=>{!async function(){if(!a){A("Transaction ID is required"),w(!1);return}try{w(!0),A(null),console.log("Fetching transaction with ID:",a);let[b,c]=await Promise.all([i.getAllCategories(),i.getTransactions({page:1,limit:1e3})]);k(b);let d=c.data?.find(b=>String(b.id)===a);if(d){let a={...d,date:new Date(d.date).toISOString().split("T")[0]};u(a),console.log("Transaction found:",a)}else A(`Transaction with ID ${a} not found`),console.log("Available transactions:",c.data)}catch(a){console.error("Error fetching data:",a),A("Failed to load transaction data")}finally{w(!1)}}()},[a]),v)?(0,b.jsx)("div",{className:"max-w-4xl p-6 border border-gray-300 dark:border-gray-600 dark:text-white bg-[#f5f6fb] dark:bg-[#0c1017] rounded-lg shadow-md shadow-gray-500 dark:shadow-gray-800 mx-auto mt-8",children:(0,b.jsx)("div",{className:"flex justify-center items-center py-8",children:"Loading transaction data..."})}):z?(0,b.jsxs)("div",{className:"max-w-4xl p-6 border border-gray-300 dark:border-gray-600 dark:text-white bg-[#f5f6fb] dark:bg-[#0c1017] rounded-lg shadow-md shadow-gray-500 dark:shadow-gray-800 mx-auto mt-8",children:[(0,b.jsx)("div",{className:"text-red-600 p-4 text-center",children:z}),(0,b.jsx)("div",{className:"flex justify-center mt-4",children:(0,b.jsx)(f.Button,{onClick:()=>h.back(),className:"px-4 py-2 rounded-lg border border-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Go Back"})})]}):t?(0,b.jsx)("div",{className:"max-w-4xl p-6 border border-gray-300 dark:border-gray-600  dark:text-white bg-[#f5f6fb] dark:bg-[#0c1017] rounded-lg shadow-md shadow-gray-500 dark:shadow-gray-800",children:(0,b.jsx)(l,{variant:"muted",children:(0,b.jsxs)(m,{children:[(0,b.jsxs)(n,{className:"border-b-2 text-xl font-bold pb-2",children:["Edit Transaction ID: ",t.id]}),(0,b.jsxs)("form",{onSubmit:D,className:"space-y-6",children:[(0,b.jsx)(g.Separator,{className:"my-4"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(q.Label,{htmlFor:"type",className:"text-sm font-medium text-gray-500 dark:text-gray-400 capitalize border-b-2 block pb-1",children:"Type"}),(0,b.jsxs)(s.Select,{value:t.type,onValueChange:a=>C("type",a),children:[(0,b.jsx)(s.SelectTrigger,{className:"mt-1 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 text-gray-900 dark:text-gray-200 rounded-lg p-2 w-full",children:(0,b.jsx)(s.SelectValue,{placeholder:"Select type"})}),(0,b.jsxs)(s.SelectContent,{className:"bg-white dark:bg-gray-600",children:[(0,b.jsx)(s.SelectItem,{value:"expense",children:"Expense"}),(0,b.jsx)(s.SelectItem,{value:"income",children:"Income"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(q.Label,{htmlFor:"amount",className:"text-sm font-medium text-gray-500 dark:text-gray-400 capitalize border-b-2 block pb-1",children:"Amount"}),(0,b.jsx)(p.Input,{type:"number",id:"amount",name:"amount",value:t.amount,onChange:B,min:0,step:"0.01",className:"mt-1 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 text-gray-900 dark:text-gray-200 rounded-lg p-2 w-full",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(q.Label,{htmlFor:"category",className:"text-sm font-medium text-gray-500 dark:text-gray-400 capitalize border-b-2 block pb-1",children:"Category"}),(0,b.jsxs)(s.Select,{value:t.category,onValueChange:a=>C("category",a),children:[(0,b.jsx)(s.SelectTrigger,{className:"mt-1 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 text-gray-900 dark:text-gray-200 rounded-lg p-2 w-full",children:(0,b.jsx)(s.SelectValue,{placeholder:"Select category"})}),(0,b.jsx)(s.SelectContent,{className:"bg-white dark:bg-gray-600",children:j.map(a=>(0,b.jsx)(s.SelectItem,{value:String(a.id),children:a.name},a.id))})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(q.Label,{htmlFor:"date",className:"text-sm font-medium text-gray-500 dark:text-gray-400 capitalize border-b-2 block pb-1",children:"Date"}),(0,b.jsx)(p.Input,{type:"date",id:"date",name:"date",value:t.date,onChange:B,className:"mt-1 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 text-gray-900 dark:text-gray-200 rounded-lg p-2 w-full",required:!0})]}),(0,b.jsxs)("div",{className:"md:col-span-1",children:[(0,b.jsx)(q.Label,{htmlFor:"description",className:"text-sm font-medium text-gray-500 dark:text-gray-400 capitalize border-b-2 block pb-1",children:"Description"}),(0,b.jsx)(r.Textarea,{id:"description",name:"description",rows:4,value:t.description,onChange:B,className:"mt-1 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 text-gray-900 dark:text-gray-200 rounded-lg p-2 resize-none w-full",required:!0})]})]})]}),z&&(0,b.jsx)("div",{className:"text-red-600 bg-red-100 dark:bg-red-900 p-3 rounded-lg border border-red-300 dark:border-red-700",children:z}),(0,b.jsx)(g.Separator,{className:"my-4"}),(0,b.jsxs)(o,{className:"space-x-2",children:[(0,b.jsx)(f.Button,{type:"button",onClick:()=>h.back(),className:"px-6 py-2 rounded-lg border border-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Cancel"}),(0,b.jsx)(f.Button,{type:"submit",disabled:x,className:"px-6 py-2 rounded-lg border border-gray-400 dark:bg-blue-900 bg-blue-300 hover:bg-blue-400 dark:hover:bg-gray-500 disabled:opacity-70",children:x?"Saving...":"Save Changes"})]})]})]})})}):(0,b.jsx)("div",{className:"max-w-4xl p-6 border border-gray-300 dark:border-gray-600 dark:text-white bg-[#f5f6fb] dark:bg-[#0c1017] rounded-lg shadow-md shadow-gray-500 dark:shadow-gray-800 mx-auto mt-8",children:(0,b.jsx)("div",{className:"text-red-600 p-4 text-center",children:"Transaction not found"})})}a.s(["default",()=>t],29287)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4e97da6f._.js.map