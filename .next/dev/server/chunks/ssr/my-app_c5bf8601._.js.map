{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/vitaliylevdansky/Desktop/PROGRAMMING/prog/my-app-router/my-app/app/services/logic.ts"],"sourcesContent":["\n\n\nexport type Transaction = {\n  id?: string | number\n  amount: number\n  date: string\n  category: string\n  description: string\n  type: \"expense\" | \"income\" | string\n}\n\nexport type SortOptions ={\n  field: string | null;\n  direction: \"desc\" | \"asc\" | null;\n}\n\ninterface Params {\n  page?: number;\n  limit?: number;\n  filters?: Record<string, any>;\n  sort?: SortOptions;\n}\n\nexport type Category = {\n  id: string | number\n  name: string\n}\n\nclass Api {\n  #baseURL = \"http://localhost:3000\";\n  #categoriesCache: Category [] | null = null;\n\n  async #fetch(path: string, options?: RequestInit): Promise<any> {\n    const response = await fetch(this.#baseURL + path, options)\n    if (!response.ok) {\n      const text = await response.text()\n      throw new Error(`HTTP error ${response.status}: ${text}`)\n    }\n  \n    return await response.json()\n  }\n\n\n  getAllCategories = async (): Promise<Category[]> => {\n    if (!this.#categoriesCache) {\n      const categories = await this.#fetch(\"/categories\");\n      this.#categoriesCache = Array.isArray(categories) ? categories : [];\n    }\n    return this.#categoriesCache;\n  };\n\n  createTransaction = (transaction: Transaction): Promise<Transaction[]> => {\n    // Should the cache always be cleared? Review if necessary\n    this.#categoriesCache = null;\n    return this.#fetch(\"/transactions\", { method: \"POST\", body: JSON.stringify(transaction) });\n  };\n\n  deleteTransaction = (id: number | string): Promise<void> =>\n    this.#fetch(`/transactions/${id}`, { method: \"DELETE\" });\n\n  updateTransaction = (id: number | string, updates: Partial<Transaction>): Promise<Transaction> =>\n    this.#fetch(`/transactions/${id}`, { \n      method: \"PATCH\", \n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(updates) \n    });\n\n  // NEW: Add method to get single transaction\n\n  getTransactionById = async (id: string | number): Promise<Transaction> => {\n    const response = await fetch(`${this.#baseURL}/transactions/${id}`);\n    \n    if (!response.ok) {\n      if (response.status === 404) {\n        throw new Error(`Transaction with id ${id} not found`);\n      }\n      const text = await response.text();\n      throw new Error(`HTTP error ${response.status}: ${text}`);\n    }\n    \n    return await response.json();\n  };\n\n  async getTransactions(params: Params = {}): Promise<Transaction> {\n    const { page = 1, limit = 10, filters = {}, sort = { field: '', direction: 'desc' } } = params;\n    const query = new URLSearchParams({ _page: page.toString(), _per_page: limit.toString(), ...filters });\n\n    if (sort.field) {\n      query.set(\"_sort\", sort.direction === \"desc\" ? `-${sort.field}` : sort.field);\n    }\n\n    const result = await this.#fetch(`/transactions?${query.toString()}`);\n    return { ...result, currentPage: page };\n  }\n}\n\nexport default Api;\n"],"names":[],"mappings":";;;;AA6BA,MAAM;IACJ,CAAA,OAAQ,GAAG,wBAAwB;IACnC,CAAA,eAAgB,GAAuB,KAAK;IAE5C,MAAM,CAAA,KAAM,CAAC,IAAY,EAAE,OAAqB;QAC9C,MAAM,WAAW,MAAM,MAAM,IAAI,CAAC,CAAA,OAAQ,GAAG,MAAM;QACnD,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,MAAM,IAAI,MAAM,CAAC,WAAW,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,MAAM;QAC1D;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B;IAGA,mBAAmB;QACjB,IAAI,CAAC,IAAI,CAAC,CAAA,eAAgB,EAAE;YAC1B,MAAM,aAAa,MAAM,IAAI,CAAC,CAAA,KAAM,CAAC;YACrC,IAAI,CAAC,CAAA,eAAgB,GAAG,MAAM,OAAO,CAAC,cAAc,aAAa,EAAE;QACrE;QACA,OAAO,IAAI,CAAC,CAAA,eAAgB;IAC9B,EAAE;IAEF,oBAAoB,CAAC;QACnB,0DAA0D;QAC1D,IAAI,CAAC,CAAA,eAAgB,GAAG;QACxB,OAAO,IAAI,CAAC,CAAA,KAAM,CAAC,iBAAiB;YAAE,QAAQ;YAAQ,MAAM,KAAK,SAAS,CAAC;QAAa;IAC1F,EAAE;IAEF,oBAAoB,CAAC,KACnB,IAAI,CAAC,CAAA,KAAM,CAAC,CAAC,cAAc,EAAE,IAAI,EAAE;YAAE,QAAQ;QAAS,GAAG;IAE3D,oBAAoB,CAAC,IAAqB,UACxC,IAAI,CAAC,CAAA,KAAM,CAAC,CAAC,cAAc,EAAE,IAAI,EAAE;YACjC,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;QACvB,GAAG;IAEL,4CAA4C;IAE5C,qBAAqB,OAAO;QAC1B,MAAM,WAAW,MAAM,MAAM,GAAG,IAAI,CAAC,CAAA,OAAQ,CAAC,cAAc,EAAE,IAAI;QAElE,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,IAAI,SAAS,MAAM,KAAK,KAAK;gBAC3B,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,GAAG,UAAU,CAAC;YACvD;YACA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,MAAM,IAAI,MAAM,CAAC,WAAW,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,MAAM;QAC1D;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B,EAAE;IAEF,MAAM,gBAAgB,SAAiB,CAAC,CAAC,EAAwB;QAC/D,MAAM,EAAE,OAAO,CAAC,EAAE,QAAQ,EAAE,EAAE,UAAU,CAAC,CAAC,EAAE,OAAO;YAAE,OAAO;YAAI,WAAW;QAAO,CAAC,EAAE,GAAG;QACxF,MAAM,QAAQ,IAAI,gBAAgB;YAAE,OAAO,KAAK,QAAQ;YAAI,WAAW,MAAM,QAAQ;YAAI,GAAG,OAAO;QAAC;QAEpG,IAAI,KAAK,KAAK,EAAE;YACd,MAAM,GAAG,CAAC,SAAS,KAAK,SAAS,KAAK,SAAS,CAAC,CAAC,EAAE,KAAK,KAAK,EAAE,GAAG,KAAK,KAAK;QAC9E;QAEA,MAAM,SAAS,MAAM,IAAI,CAAC,CAAA,KAAM,CAAC,CAAC,cAAc,EAAE,MAAM,QAAQ,IAAI;QACpE,OAAO;YAAE,GAAG,MAAM;YAAE,aAAa;QAAK;IACxC;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///Users/vitaliylevdansky/Desktop/PROGRAMMING/prog/my-app-router/my-app/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,2PAAC;QACC,aAAU;QACV,WAAW,IAAA,+HAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,2PAAC;QACC,aAAU;QACV,WAAW,IAAA,+HAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,2PAAC;QACC,aAAU;QACV,WAAW,IAAA,+HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,2PAAC;QACC,aAAU;QACV,WAAW,IAAA,+HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,2PAAC;QACC,aAAU;QACV,WAAW,IAAA,+HAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,2PAAC;QACC,aAAU;QACV,WAAW,IAAA,+HAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,2PAAC;QACC,aAAU;QACV,WAAW,IAAA,+HAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///Users/vitaliylevdansky/Desktop/PROGRAMMING/prog/my-app-router/my-app/app/components/Amounts.tsx"],"sourcesContent":["\"use client\"\n\n\nimport { useEffect, useState } from \"react\"\nimport Api from \"../services/logic\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { TrendingUp, TrendingDown, Wallet } from \"lucide-react\"\nimport { Transaction, Category} from '../services/logic'\n\n\nconst api = new Api()\n\n\n\n\nexport default function AmountsTable(  \n) {\n  const [transactions, setTransactions] = useState<Transaction[]>([])\n  const [categories, setCategories] = useState<Category[]>([])\n  const [loading, setLoading] = useState(false)\n  const [page, setPage] = useState(1)\n  const [pageSize, setPageSize] = useState(1000)\n  const [filters, setFilters] = useState<{ category?: string; type?: string; description?: string }>({})\n\n  \n\n  useEffect(() => {\n    async function fetchCategories() {\n      try {\n        const cats = await api.getAllCategories()\n        if (Array.isArray(cats)) {\n          setCategories(cats)\n          console.log('Loaded categories:', cats)\n        } else {\n          console.warn('Categories is not an array:', cats)\n          setCategories([])\n        }\n      } catch (error) {\n        console.error('Error loading categories:', error)\n        setCategories([])\n      }\n    }\n    fetchCategories()\n  }, [])\n\n  useEffect(() => {\n    fetchTransactions()\n  }, [page, pageSize, filters])\n\n  async function fetchTransactions() {\n    setLoading(true)\n    try {\n      const result = await api.getTransactions()\n\n      setTransactions(result.data || [])\n\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  function getCategoryType(type: \"expense\" | \"income\" | string) {\n    const expenses = transactions.filter(t => t.type === \"expense\" );\n    const incomes = transactions.filter(t => t.type === \"income\");\n\n    const expenseSum = expenses.reduce((sum, transaction) => sum + Math.abs(transaction.amount), 0);\n    const incomeSum = incomes.reduce((sum, transaction) => sum + Math.abs(transaction.amount), 0);\n\n    const totalAmount = Math.abs(incomeSum) - Math.abs(expenseSum) ;\n\n    return {\n        expenseTotal: expenseSum,\n        incomeTotal: incomeSum,\n        total: totalAmount\n      };\n  }\n\n  const totals = getCategoryType(\"all\");\n\n\n \n  return (\n    <div className=\"space-y-10  overflow-y-auto max-h-[600px] \">\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-row-3 gap-4 md:gap-8 \">\n        {/* Total Income Card */}\n        <Card className=\"min-w-40 max-w-xs md:max-w-2xs bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-green-700 dark:text-green-400\">\n              Total Income\n            </CardTitle>\n            <TrendingUp className=\"h-4 w-4 text-green-600 dark:text-green-400\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-green-700 dark:text-green-400\">\n              +{totals.incomeTotal.toFixed(1)} BYN\n            </div>\n            <p className=\"text-xs text-green-600 dark:text-green-300\">\n              From {transactions.filter(t => t.type === \"income\").length} transactions\n            </p>\n          </CardContent>\n        </Card>\n\n        {/* Total Expenses Card */}\n        <Card className=\"min-w-40 md:max-w-2xs bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-red-700 dark:text-red-400\">\n              Total Expenses\n            </CardTitle>\n            <TrendingDown className=\"h-4 w-4 text-red-600 dark:text-red-400\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-red-700 dark:text-red-400\">\n              -{totals.expenseTotal.toFixed(1)} BYN\n            </div>\n            <p className=\"text-xs text-red-600 dark:text-red-300\">\n              From {transactions.filter(t => t.type === \"expense\" || t.type === \"expence\").length} transactions\n            </p>\n          </CardContent>\n        </Card>\n\n        {/* Net Balance Card */}\n        <Card className=\"min-w-40 md:max-w-2xs bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-blue-700 dark:text-blue-400\">\n              Net Balance\n            </CardTitle>\n            <Wallet className=\"h-4 w-4 text-blue-600 dark:text-blue-400\" />\n          </CardHeader>\n          <CardContent>\n            <div className={`text-2xl font-bold ${\n              totals.total >= 0 \n                ? 'text-green-700 dark:text-green-400' \n                : 'text-red-700 dark:text-red-400'\n            }`}>\n              {(totals.total).toFixed(1)} BYN\n            </div>\n            <p className=\"text-xs text-blue-600 dark:text-blue-300\">\n              {totals.total >= 0 ? 'Positive' : 'Negative'} balance\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Your existing table and other components would go here */}\n      <div>\n        {/* Add your table component here when ready */}\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 476, "column": 0}, "map": {"version":3,"sources":["file:///Users/vitaliylevdansky/Desktop/PROGRAMMING/prog/my-app-router/my-app/app/components/Diagram.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { TrendingUp, TrendingDown, PieChart } from \"lucide-react\"\nimport { Transaction, Category} from '../services/logic'\n\ninterface CategoryData {\n    name: string\n  value: number\n  percentage: number\n  color: string\n}\n\ninterface CircularDiagramProps {\n    transactions: Transaction[]\n    categories: Category[]\n  }\n  \n  // Predefined colors for the diagram\n  const CATEGORY_COLORS = [\n    '#3B82F6', '#EF4444', '#10B981', '#F59E0B', '#8B5CF6',\n    '#EC4899', '#06B6D4', '#84CC16', '#F97316', '#6366F1',\n    '#14B8A6', '#F43F5E', '#8B5CF6', '#EC4899', '#06B6D4'\n  ]\n\n  \n  export default function CircularDiagram({ transactions, categories }: CircularDiagramProps) {\n    const [diagramType, setDiagramType] = useState<\"expense\" | \"income\">(\"expense\")\n  \n    // Process data for the circular diagram\n    const getCategoryData = (): CategoryData[] => {\n      const filteredTransactions = transactions.filter(t => \n        diagramType === \"expense\" ? (t.type === \"expense\" || t.type === \"expence\") : t.type === \"income\"\n      )\n  \n      // Group by category and calculate totals\n      const categoryMap = new Map<string, number>()\n      \n      filteredTransactions.forEach(transaction => {\n        const categoryId = transaction.category\n        const category = categories.find(c => c.id === categoryId)\n        const categoryName = category?.name || \"Uncategorized\"\n        const amount = Math.abs(transaction.amount)\n        \n        categoryMap.set(categoryName, (categoryMap.get(categoryName) || 0) + amount)\n      })\n  \n      // Calculate total for percentages\n      const total = Array.from(categoryMap.values()).reduce((sum, value) => sum + value, 0)\n      \n      // Convert to array and sort by value (descending)\n      const categoryData = Array.from(categoryMap.entries())\n        .map(([name, value], index) => ({\n          name,\n          value,\n          percentage: total > 0 ? (value / total) * 100 : 0,\n          color: CATEGORY_COLORS[index % CATEGORY_COLORS.length]\n        }))\n        .sort((a, b) => b.value - a.value)\n  \n      return categoryData\n    }\n  \n    const categoryData = getCategoryData()\n    const totalAmount = categoryData.reduce((sum, item) => sum + item.value, 0)\n  \n    // Generate SVG path for each segment\n    const generateSegmentPath = (startAngle: number, endAngle: number, radius: number): string => {\n      const start = polarToCartesian(radius, radius, radius, endAngle)\n      const end = polarToCartesian(radius, radius, radius, startAngle)\n      const largeArcFlag = endAngle - startAngle <= 180 ? \"0\" : \"1\"\n      \n      return [\n        \"M\", radius, radius,\n        \"L\", start.x, start.y,\n        \"A\", radius, radius, 0, largeArcFlag, 0, end.x, end.y,\n        \"Z\"\n      ].join(\" \")\n    }\n  \n    const polarToCartesian = (centerX: number, centerY: number, radius: number, angleInDegrees: number) => {\n      const angleInRadians = (angleInDegrees - 90) * Math.PI / 180.0\n      return {\n        x: centerX + (radius * Math.cos(angleInRadians)),\n        y: centerY + (radius * Math.sin(angleInRadians))\n      }\n    }\n  \n    // Generate segments for the diagram\n    const generateSegments = () => {\n      const radius = 80\n      const segments = []\n      let currentAngle = 0\n      \n      for (let i = 0; i < categoryData.length; i++) {\n        const segment = categoryData[i]\n        const segmentAngle = (segment.percentage / 100) * 360\n        const endAngle = currentAngle + segmentAngle\n        \n        segments.push({\n          ...segment,\n          startAngle: currentAngle,\n          endAngle: endAngle,\n          path: generateSegmentPath(currentAngle, endAngle, radius)\n        })\n        \n        currentAngle = endAngle\n      }\n      \n      return segments\n    }\n  \n    const segments = generateSegments()\n  \n    return (\n      <Card className=\"w-full h-full max-w-none\">\n        <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n          {/* ... existing header */}\n        </CardHeader>\n        \n        <CardContent className=\"h-[calc(100%-60px)]\">\n          <div className=\"flex flex-col md:flex-row items-center justify-between gap-4 h-full\">\n            {/* Circular Diagram - smaller for compact layout */}\n            <div className=\"relative shrink-0\">\n              <svg width=\"100\" height=\"100\" className=\"transform -rotate-90\">\n                {/* ... existing segments */}\n              </svg>\n              {/* ... center text */}\n            </div>\n  \n            {/* Legend - compact version */}\n            <div className=\"flex-1 min-w-0 h-full\">\n              <div className=\"space-y-1 max-h-32 overflow-y-auto text-xs\">\n                {segments.map((segment, index) => (\n                  <div key={index} className=\"flex items-center justify-between gap-2\">\n                    <div className=\"flex items-center gap-2 min-w-0 flex-1\">\n                      <div \n                        className=\"w-2 h-2 rounded-full shrink-0\"\n                        style={{ backgroundColor: segment.color }}\n                      />\n                      <span className=\"truncate\">{segment.name}</span>\n                    </div>\n                    <div className=\"flex items-center gap-1 shrink-0\">\n                      <span className=\"font-medium\">{segment.percentage.toFixed(0)}%</span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 703, "column": 0}, "map": {"version":3,"sources":["file:///Users/vitaliylevdansky/Desktop/PROGRAMMING/prog/my-app-router/my-app/components/ui/resizable.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { GripVerticalIcon } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction ResizablePanelGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) {\n  return (\n    <ResizablePrimitive.PanelGroup\n      data-slot=\"resizable-panel-group\"\n      className={cn(\n        \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ResizablePanel({\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.Panel>) {\n  return <ResizablePrimitive.Panel data-slot=\"resizable-panel\" {...props} />\n}\n\nfunction ResizableHandle({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) {\n  return (\n    <ResizablePrimitive.PanelResizeHandle\n      data-slot=\"resizable-handle\"\n      className={cn(\n        \"bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n        className\n      )}\n      {...props}\n    >\n      {withHandle && (\n        <div className=\"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border\">\n          <GripVerticalIcon className=\"size-2.5\" />\n        </div>\n      )}\n    </ResizablePrimitive.PanelResizeHandle>\n  )\n}\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n"],"names":[],"mappings":";;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,oBAAoB,EAC3B,SAAS,EACT,GAAG,OACwD;IAC3D,qBACE,2PAAC,+OAA6B;QAC5B,aAAU;QACV,WAAW,IAAA,+HAAE,EACX,qEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,2PAAC,0OAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;AAEA,SAAS,gBAAgB,EACvB,UAAU,EACV,SAAS,EACT,GAAG,OAGJ;IACC,qBACE,2PAAC,sPAAoC;QACnC,aAAU;QACV,WAAW,IAAA,+HAAE,EACX,6oBACA;QAED,GAAG,KAAK;kBAER,4BACC,2PAAC;YAAI,WAAU;sBACb,cAAA,2PAAC,2PAAgB;gBAAC,WAAU;;;;;;;;;;;;;;;;AAKtC","debugId":null}},
    {"offset": {"line": 771, "column": 0}, "map": {"version":3,"sources":["file:///Users/vitaliylevdansky/Desktop/PROGRAMMING/prog/my-app-router/my-app/app/statistics/page.tsx"],"sourcesContent":["  \n\"use client\";\nimport { useEffect, useState } from \"react\";\nimport Link from 'next/link'\nimport AmountsTable from '../components/Amounts'\nimport CircularDiagram from '../components/Diagram'\nimport Api from \"../services/logic\"\nimport { Category, Transaction } from '../services/logic';\nimport {\n    ResizableHandle,\n    ResizablePanel,\n    ResizablePanelGroup,\n  } from \"@/components/ui/resizable\"\n\nconst api = new Api()\n\nexport default function ResizableDemo() {\n  const [transactions, setTransactions] = useState<Transaction[]>([])\n  const [categories, setCategories] = useState<Category[]>([])\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    async function fetchCategories() {\n      try {\n        const cats = await api.getAllCategories()\n        if (Array.isArray(cats)) {\n          setCategories(cats)\n        } else {\n          setCategories([])\n        }\n      } catch (error) {\n        console.error('Error loading categories:', error)\n        setCategories([])\n      }\n    }\n    fetchCategories()\n  }, [])\n\n  useEffect(() => {\n    async function fetchTransactions() {\n      setLoading(true)\n      try {\n        const result = await api.getTransactions()\n        setTransactions(result.data || [])\n      } finally {\n        setLoading(false)\n      }\n    }\n    fetchTransactions()\n  }, [])\n\n  return (\n    <div className=\"min-h-screen w-screen bg-background\">\n      <ResizablePanelGroup\n        direction=\"horizontal\"\n        className=\"w-full h-full pt-20\"\n      >\n        {/* Left Panel - Main Content */}\n        <ResizablePanel \n          defaultSize={30} \n          minSize={0}\n          maxSize={40}\n        >\n          <div className=\"flex h-full items-center justify-center p-1 md:p-2 bg-muted/50\">\n            <div className=\"text-center w-full\">\n              {/* <span className=\"font-semibold text-2xl\">Balance</span> */}\n              <AmountsTable \n              />\n            </div>\n          </div>\n        </ResizablePanel>\n        \n        <ResizableHandle \n          withHandle \n          className=\"bg-border hover:bg-primary/20 transition-colors\"\n        />\n        \n        {/* Right Panel - Sidebar with vertical split */}\n        <ResizablePanel \n          defaultSize={60} \n          minSize={30}\n          maxSize={70}\n        >\n          <ResizablePanelGroup direction=\"vertical\">\n            {/* Top Right Panel - Circular Diagram */}\n            <ResizablePanel \n              defaultSize={50} \n              minSize={40}\n              maxSize={60}\n            >\n              <div className=\"flex h-full items-center justify-center p-4 bg-card\">\n                <div className=\"text-center w-full h-full\">\n                  <span className=\"font-semibold text-lg mb-2 block\">Spending Analysis</span>\n                  <div className=\"w-full h-full flex items-center justify-center\">\n                    <CircularDiagram \n                      transactions={transactions}\n                      categories={categories}\n                    />\n                  </div>\n                </div>\n              </div>\n            </ResizablePanel>\n            \n            <ResizableHandle \n              withHandle \n              className=\"bg-border hover:bg-primary/20 transition-colors\"\n            />\n            \n            {/* Bottom Right Panel */}\n            <ResizablePanel \n              defaultSize={60} \n              minSize={40}\n              maxSize={80}\n            >\n              <div className=\"flex h-full items-center justify-center p-6 bg-muted\">\n                <div className=\"text-center\">\n                  <span className=\"font-semibold text-lg\">Transactions</span>\n                  <p className=\"text-muted-foreground text-sm mt-1\">\n                    {transactions.length} total transactions\n                  </p>\n                </div>\n              </div>\n            </ResizablePanel>\n          </ResizablePanelGroup>\n        </ResizablePanel>\n      </ResizablePanelGroup>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AAEA;AAPA;;;;;;;AAaA,MAAM,MAAM,IAAI,gJAAG;AAEJ,SAAS;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,8NAAQ,EAAgB,EAAE;IAClE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,8NAAQ,EAAa,EAAE;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8NAAQ,EAAC;IAEvC,IAAA,+NAAS,EAAC;QACR,eAAe;YACb,IAAI;gBACF,MAAM,OAAO,MAAM,IAAI,gBAAgB;gBACvC,IAAI,MAAM,OAAO,CAAC,OAAO;oBACvB,cAAc;gBAChB,OAAO;oBACL,cAAc,EAAE;gBAClB;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,6BAA6B;gBAC3C,cAAc,EAAE;YAClB;QACF;QACA;IACF,GAAG,EAAE;IAEL,IAAA,+NAAS,EAAC;QACR,eAAe;YACb,WAAW;YACX,IAAI;gBACF,MAAM,SAAS,MAAM,IAAI,eAAe;gBACxC,gBAAgB,OAAO,IAAI,IAAI,EAAE;YACnC,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG,EAAE;IAEL,qBACE,2PAAC;QAAI,WAAU;kBACb,cAAA,2PAAC,kKAAmB;YAClB,WAAU;YACV,WAAU;;8BAGV,2PAAC,6JAAc;oBACb,aAAa;oBACb,SAAS;oBACT,SAAS;8BAET,cAAA,2PAAC;wBAAI,WAAU;kCACb,cAAA,2PAAC;4BAAI,WAAU;sCAEb,cAAA,2PAAC,qJAAY;;;;;;;;;;;;;;;;;;;;8BAMnB,2PAAC,8JAAe;oBACd,UAAU;oBACV,WAAU;;;;;;8BAIZ,2PAAC,6JAAc;oBACb,aAAa;oBACb,SAAS;oBACT,SAAS;8BAET,cAAA,2PAAC,kKAAmB;wBAAC,WAAU;;0CAE7B,2PAAC,6JAAc;gCACb,aAAa;gCACb,SAAS;gCACT,SAAS;0CAET,cAAA,2PAAC;oCAAI,WAAU;8CACb,cAAA,2PAAC;wCAAI,WAAU;;0DACb,2PAAC;gDAAK,WAAU;0DAAmC;;;;;;0DACnD,2PAAC;gDAAI,WAAU;0DACb,cAAA,2PAAC,qJAAe;oDACd,cAAc;oDACd,YAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAOtB,2PAAC,8JAAe;gCACd,UAAU;gCACV,WAAU;;;;;;0CAIZ,2PAAC,6JAAc;gCACb,aAAa;gCACb,SAAS;gCACT,SAAS;0CAET,cAAA,2PAAC;oCAAI,WAAU;8CACb,cAAA,2PAAC;wCAAI,WAAU;;0DACb,2PAAC;gDAAK,WAAU;0DAAwB;;;;;;0DACxC,2PAAC;gDAAE,WAAU;;oDACV,aAAa,MAAM;oDAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUzC","debugId":null}}]
}