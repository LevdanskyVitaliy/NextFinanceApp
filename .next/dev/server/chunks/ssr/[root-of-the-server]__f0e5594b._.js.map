{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/vitaliylevdansky/Documents/GitHub/NextFinanceApp/app/services/logic.ts"],"sourcesContent":["export type Transaction = {\n  id?: string | number;\n  amount: number;\n  date: string;\n  category: string;\n  description: string;\n  type: \"expense\" | \"income\" | string;\n};\n\nexport type SortOptions = {\n  field: string | null;\n  direction: \"desc\" | \"asc\" | null;\n};\n\ninterface Params {\n  page?: number;\n  limit?: number;\n  filters?: Record<string, any>;\n  sort?: SortOptions;\n}\n\nexport type Category = {\n  id: string | number;\n  name: string;\n};\n\n/**\n * Api Class - HTTP Client for Transaction and Category Operations\n * \n * This class provides a clean interface for making API calls to your Next.js routes.\n * It abstracts away the fetch details and provides typed methods.\n * \n * KEY CHANGE FROM BEFORE:\n * - OLD: Hard-coded `http://localhost:3000` (only worked locally)\n * - NEW: Dynamic base URL that works in both dev and production\n * \n * HOW BASE URL WORKS:\n * - Server-side (SSR): `window` is undefined, so baseURL = \"\" (relative URLs)\n * - Client-side (browser): Uses `window.location.origin` (e.g., \"https://yourapp.vercel.app\")\n * - Result: Same code works locally AND on Vercel without changes!\n * \n * EXAMPLE:\n * - Local dev: fetch(\"http://localhost:3000/transactions\") → Next route handler\n * - Vercel: fetch(\"https://yourapp.vercel.app/transactions\") → Next route handler\n */\nclass Api {\n  // Old hard-coded approach (commented out for reference):\n  #baseURL = \"http://localhost:3000\";\n  \n  // New dynamic approach: works everywhere!\n  // - Server-side: \"\" (empty string = relative URL from server)\n  // - Client-side: window.location.origin (current domain)\n        // #baseURL =\n       //   typeof window === \"undefined\" ? \"\" : window.location.origin ?? \"\";\n  \n  // Cache for categories since they rarely change\n  // Prevents unnecessary API calls\n  #categoriesCache: Category[] | null = null;\n\n  /**\n   * Internal fetch wrapper that handles errors consistently\n   * \n   * @param path - API endpoint path (e.g., \"/transactions\" or \"/categories\")\n   * @param options - Standard fetch options (method, body, headers, etc.)\n   * @returns Parsed JSON response\n   * @throws Error if HTTP response is not ok (status >= 400)\n   */\n  async #fetch(path: string, options?: RequestInit): Promise<any> {\n    // Construct full URL: baseURL + path\n    // Examples:\n    // - Local: \"\" + \"/transactions\" = \"/transactions\" (relative)\n    // - Vercel: \"https://app.vercel.app\" + \"/transactions\" = \"https://app.vercel.app/transactions\"\n    const response = await fetch(this.#baseURL + path, options);\n    \n    if (!response.ok) {\n      // Extract error message from response body\n      const text = await response.text();\n      throw new Error(`HTTP error ${response.status}: ${text}`);\n    }\n\n    return await response.json();\n  }\n\n  /**\n   * Fetches all categories from the database\n   * Uses caching to avoid repeated API calls\n   * \n   * @returns Array of category objects\n   */\n  getAllCategories = async (): Promise<Category[]> => {\n    // Return cached categories if available\n    if (!this.#categoriesCache) {\n      const categories = await this.#fetch(\"/categories\");\n      // Ensure we always return an array, even if API returns unexpected format\n      this.#categoriesCache = Array.isArray(categories) ? categories : [];\n    }\n    return this.#categoriesCache;\n  };\n\n  /**\n   * Creates a new transaction\n   * \n   * @param transaction - Transaction object to create (id is optional, auto-generated)\n   * @returns The created transaction with assigned ID\n   */\n  createTransaction = (transaction: Transaction): Promise<Transaction> => {\n    // Clear categories cache when creating transaction\n    // (In case categories change, though they shouldn't in this app)\n    this.#categoriesCache = null;\n    \n    return this.#fetch(\"/transactions\", {\n      method: \"POST\",\n      body: JSON.stringify(transaction),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  };\n\n  /**\n   * Deletes a transaction by ID\n   * \n   * @param id - Transaction ID to delete\n   * @throws Error if transaction not found (404)\n   */\n  deleteTransaction = (id: number | string): Promise<void> =>\n    this.#fetch(`/transactions/${id}`, { method: \"DELETE\" });\n\n  /**\n   * Updates a transaction (partial update - only provided fields are changed)\n   * \n   * @param id - Transaction ID to update\n   * @param updates - Partial transaction object with fields to update\n   * @returns The updated transaction object\n   * @throws Error if transaction not found (404)\n   */\n  updateTransaction = (\n    id: number | string,\n    updates: Partial<Transaction>\n  ): Promise<Transaction> =>\n    this.#fetch(`/transactions/${id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(updates),\n    });\n\n  /**\n   * Fetches a single transaction by ID\n   * \n   * Note: This method uses fetch directly instead of #fetch wrapper\n   * to provide a more specific error message for 404s\n   * \n   * @param id - Transaction ID to fetch\n   * @returns The transaction object\n   * @throws Error with specific message if transaction not found (404)\n   */\n  getTransactionById = async (id: string | number): Promise<Transaction> => {\n    const response = await fetch(`${this.#baseURL}/transactions/${id}`);\n\n    if (!response.ok) {\n      // Provide user-friendly error for 404\n      if (response.status === 404) {\n        throw new Error(`Transaction with id ${id} not found`);\n      }\n      const text = await response.text();\n      throw new Error(`HTTP error ${response.status}: ${text}`);\n    }\n\n    return await response.json();\n  };\n\n  /**\n   * Fetches paginated, filtered, and sorted list of transactions\n   * \n   * @param params - Query parameters object\n   * @param params.page - Page number (default: 1)\n   * @param params.limit - Items per page (default: 10)\n   * @param params.filters - Object with filter key-value pairs (e.g., { category: \"5\", type: \"expense\" })\n   * @param params.sort - Sort options { field: string, direction: \"asc\" | \"desc\" }\n   * @returns Object with paginated data: { data: Transaction[], items: number, pages: number, currentPage: number }\n   * \n   * EXAMPLE:\n   * ```ts\n   * await api.getTransactions({\n   *   page: 2,\n   *   limit: 20,\n   *   filters: { category: \"5\", type: \"expense\" },\n   *   sort: { field: \"date\", direction: \"desc\" }\n   * });\n   * ```\n   * \n   * This builds a query string like:\n   * \"/transactions?_page=2&_per_page=20&category=5&type=expense&_sort=-date\"\n   */\n  async getTransactions(params: Params = {}): Promise<Transaction> {\n    // Extract parameters with defaults\n    const {\n      page = 1,\n      limit = 10,\n      filters = {},\n      sort = { field: \"\", direction: \"desc\" },\n    } = params;\n    \n    // Build query string with pagination and filters\n    const query = new URLSearchParams({\n      _page: page.toString(),\n      _per_page: limit.toString(),\n      ...filters, // Spread filters as query params (e.g., { category: \"5\" } → ?category=5)\n    });\n\n    // Add sort parameter if field is specified\n    // Format: \"-date\" for descending, \"date\" for ascending\n    if (sort.field) {\n      query.set(\n        \"_sort\",\n        sort.direction === \"desc\" ? `-${sort.field}` : sort.field\n      );\n    }\n\n    // Make API call and add currentPage to response for convenience\n    const result = await this.#fetch(`/transactions?${query.toString()}`);\n    return { ...result, currentPage: page };\n  }\n}\n\nexport default Api;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///Users/vitaliylevdansky/Documents/GitHub/NextFinanceApp/components/ui/separator.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Separator = registerClientReference(\n    function() { throw new Error(\"Attempted to call Separator() from the server but Separator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Documents/GitHub/NextFinanceApp/components/ui/separator.tsx <module evaluation>\",\n    \"Separator\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,YAAY,IAAA,iTAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,6FACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///Users/vitaliylevdansky/Documents/GitHub/NextFinanceApp/components/ui/separator.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Separator = registerClientReference(\n    function() { throw new Error(\"Attempted to call Separator() from the server but Separator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Documents/GitHub/NextFinanceApp/components/ui/separator.tsx\",\n    \"Separator\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,YAAY,IAAA,iTAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,yEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file:///Users/vitaliylevdansky/Documents/GitHub/NextFinanceApp/components/ui/item.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Separator } from \"@/components/ui/separator\"\n\nfunction ItemGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      role=\"list\"\n      data-slot=\"item-group\"\n      className={cn(\"group/item-group flex flex-col\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"item-separator\"\n      orientation=\"horizontal\"\n      className={cn(\"my-0\", className)}\n      {...props}\n    />\n  )\n}\n\nconst itemVariants = cva(\n  \"group/item flex items-center border border-transparent text-sm rounded-md transition-colors [a]:hover:bg-accent/50 [a]:transition-colors duration-100 flex-wrap outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline: \"border-border\",\n        muted: \"bg-muted/50\",\n      },\n      size: {\n        default: \"p-4 gap-4 \",\n        sm: \"py-3 px-4 gap-2.5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Item({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> &\n  VariantProps<typeof itemVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n  return (\n    <Comp\n      data-slot=\"item\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(itemVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nconst itemMediaVariants = cva(\n  \"flex shrink-0 items-center justify-center gap-2 group-has-[[data-slot=item-description]]/item:self-start [&_svg]:pointer-events-none group-has-[[data-slot=item-description]]/item:translate-y-0.5\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        icon: \"size-8 border rounded-sm bg-muted [&_svg:not([class*='size-'])]:size-4\",\n        image:\n          \"size-10 rounded-sm overflow-hidden [&_img]:size-full [&_img]:object-cover\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction ItemMedia({\n  className,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof itemMediaVariants>) {\n  return (\n    <div\n      data-slot=\"item-media\"\n      data-variant={variant}\n      className={cn(itemMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction ItemContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-content\"\n      className={cn(\n        \"flex flex-1 flex-col gap-1 [&+[data-slot=item-content]]:flex-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-title\"\n      className={cn(\n        \"flex w-fit items-center gap-2 text-sm leading-snug font-medium\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <p\n      data-slot=\"item-description\"\n      className={cn(\n        \"text-muted-foreground line-clamp-2 text-sm leading-normal font-normal text-balance\",\n        \"[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemActions({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-actions\"\n      className={cn(\"flex items-center gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-header\"\n      className={cn(\n        \"flex basis-full items-center justify-between gap-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-footer\"\n      className={cn(\n        \"flex basis-full items-center justify-between gap-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Item,\n  ItemMedia,\n  ItemContent,\n  ItemActions,\n  ItemGroup,\n  ItemSeparator,\n  ItemTitle,\n  ItemDescription,\n  ItemHeader,\n  ItemFooter,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AAEA;AACA;;;;;;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,uRAAC;QACC,MAAK;QACL,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,kCAAkC;QAC/C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACoC;IACvC,qBACE,uRAAC,oLAAS;QACR,aAAU;QACV,aAAY;QACZ,WAAW,IAAA,2JAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,MAAM,eAAe,IAAA,gNAAG,EACtB,8PACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,SAAS;YACT,OAAO;QACT;QACA,MAAM;YACJ,SAAS;YACT,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,KAAK,EACZ,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,UAAU,KAAK,EACf,GAAG,OAEsD;IACzD,MAAM,OAAO,UAAU,iNAAI,GAAG;IAC9B,qBACE,uRAAC;QACC,aAAU;QACV,gBAAc;QACd,aAAW;QACX,WAAW,IAAA,2JAAE,EAAC,aAAa;YAAE;YAAS;YAAM;QAAU;QACrD,GAAG,KAAK;;;;;;AAGf;AAEA,MAAM,oBAAoB,IAAA,gNAAG,EAC3B,sMACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,MAAM;YACN,OACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,UAAU,EACjB,SAAS,EACT,UAAU,SAAS,EACnB,GAAG,OACkE;IACrE,qBACE,uRAAC;QACC,aAAU;QACV,gBAAc;QACd,WAAW,IAAA,2JAAE,EAAC,kBAAkB;YAAE;YAAS;QAAU;QACpD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,uRAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,qEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,uRAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAkC;IACzE,qBACE,uRAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,sFACA,qEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,uRAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,uRAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,uRAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 430, "column": 0}, "map": {"version":3,"sources":["file:///Users/vitaliylevdansky/Documents/GitHub/NextFinanceApp/app/%28auth%29/users/%5Bid%5D/page.tsx"],"sourcesContent":["// app/transactions/[id]/page.tsx\nimport { notFound } from \"next/navigation\";\nimport Api from \"../../../services/logic\";\nimport { Button } from \"@/components/ui/button\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Item,\n  ItemActions,\n  ItemContent,\n  ItemDescription,\n  ItemTitle,\n} from \"@/components/ui/item\";\n\nexport default async function TransactionPage({\n  params,\n}: {\n  params: Promise<{ id: string | number}>; \n}) {\n  const { id } = await params;\n  const api = new Api();\n  const categories = await api.getAllCategories();\n\n  const result = await api.getTransactions({ page: 1, limit: 1000 });\n  const transaction = result.data.find((tx: any) => String(tx.id) === id);\n\n  if (!transaction) {\n    return notFound();\n  }\n\n  function getCategoryName(id: string | number): string {\n    if (!categories.length) {\n      return \"Unknown\";\n    }\n\n    let category = categories.find((cat) => cat.id == id);\n\n    if (!category) {\n      category = categories.find((cat) => String(cat.id) === String(id));\n    }\n\n    // If still not found, try converting both to numbers\n    if (!category) {\n      const numId = Number(id);\n      if (!isNaN(numId)) {\n        category = categories.find((cat) => Number(cat.id) === numId);\n      }\n    }\n\n    if (!category) {\n      console.warn(\n        `Category not found for id: ${id}. Available:`,\n        categories.map((c) => c.id)\n      );\n      return \"Unknown\";\n    }\n\n    return category.name;\n  }\n\n  const displayTransaction = {\n    ...transaction,\n    category: getCategoryName(transaction.category),\n  };\n\n  return (\n    <div className=\"max-w-xl p-6 border border-gray-300 dark:border-gray-600  dark:text-white bg-[#f5f6fb] dark:bg-[#0c1017] rounded-lg shadow-md shadow-gray-500 dark:shadow-gray-800\">\n      <Item variant=\"muted\">\n        <ItemContent>\n          <ItemTitle className=\"border-b-2 \">\n            Transaction ID: {transaction.id}\n          </ItemTitle>\n          <ItemDescription>\n            Date: {new Date(transaction.date).toLocaleDateString()}\n          </ItemDescription>\n          <Separator className=\"my-4\" />\n\n          <dl className=\"grid grid-cols-2 gap-x-6 gap-y-3\">\n            {Object.entries(displayTransaction).map(([key, value]) => (\n              <div key={key}>\n                <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400 capitalize border-b-2 \">\n                  {key.replace(/_/g, \" \")}\n                </dt>\n                <dd className=\"mt-1 text-sm text-gray-900 dark:text-gray-200 dark:bg-gray-600 bg-gray-100 rounded-lg p-2\">\n                  {String(value)}\n                </dd>\n              </div>\n            ))}\n          </dl>\n\n          <Separator className=\"my-4\" />\n\n          <ItemActions>\n            <Button asChild>\n              <a\n                href={`/users/${transaction.id}/edit`}\n                className=\" px-4 py-2 rounded-lg border border-gray-400 dark:bg-blue-900 bg-blue-300 hover:bg-blue-400 dark:hover:bg-gray-500\"\n              >\n                Edit\n              </a>\n            </Button>\n            <Button asChild>\n              <a\n                href=\"/\"\n                className=\" px-4 py-2 rounded-lg border border-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700\"\n              >\n                Back to Transactions\n              </a>\n            </Button>\n          </ItemActions>\n        </ItemContent>\n      </Item>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;AACjC;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAQe,eAAe,gBAAgB,EAC5C,MAAM,EAGP;IACC,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;IACrB,MAAM,MAAM,IAAI,4KAAG;IACnB,MAAM,aAAa,MAAM,IAAI,gBAAgB;IAE7C,MAAM,SAAS,MAAM,IAAI,eAAe,CAAC;QAAE,MAAM;QAAG,OAAO;IAAK;IAChE,MAAM,cAAc,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,KAAY,OAAO,GAAG,EAAE,MAAM;IAEpE,IAAI,CAAC,aAAa;QAChB,OAAO,IAAA,0OAAQ;IACjB;IAEA,SAAS,gBAAgB,EAAmB;QAC1C,IAAI,CAAC,WAAW,MAAM,EAAE;YACtB,OAAO;QACT;QAEA,IAAI,WAAW,WAAW,IAAI,CAAC,CAAC,MAAQ,IAAI,EAAE,IAAI;QAElD,IAAI,CAAC,UAAU;YACb,WAAW,WAAW,IAAI,CAAC,CAAC,MAAQ,OAAO,IAAI,EAAE,MAAM,OAAO;QAChE;QAEA,qDAAqD;QACrD,IAAI,CAAC,UAAU;YACb,MAAM,QAAQ,OAAO;YACrB,IAAI,CAAC,MAAM,QAAQ;gBACjB,WAAW,WAAW,IAAI,CAAC,CAAC,MAAQ,OAAO,IAAI,EAAE,MAAM;YACzD;QACF;QAEA,IAAI,CAAC,UAAU;YACb,QAAQ,IAAI,CACV,CAAC,2BAA2B,EAAE,GAAG,YAAY,CAAC,EAC9C,WAAW,GAAG,CAAC,CAAC,IAAM,EAAE,EAAE;YAE5B,OAAO;QACT;QAEA,OAAO,SAAS,IAAI;IACtB;IAEA,MAAM,qBAAqB;QACzB,GAAG,WAAW;QACd,UAAU,gBAAgB,YAAY,QAAQ;IAChD;IAEA,qBACE,uRAAC;QAAI,WAAU;kBACb,cAAA,uRAAC,0KAAI;YAAC,SAAQ;sBACZ,cAAA,uRAAC,iLAAW;;kCACV,uRAAC,+KAAS;wBAAC,WAAU;;4BAAc;4BAChB,YAAY,EAAE;;;;;;;kCAEjC,uRAAC,qLAAe;;4BAAC;4BACR,IAAI,KAAK,YAAY,IAAI,EAAE,kBAAkB;;;;;;;kCAEtD,uRAAC,oLAAS;wBAAC,WAAU;;;;;;kCAErB,uRAAC;wBAAG,WAAU;kCACX,OAAO,OAAO,CAAC,oBAAoB,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,iBACnD,uRAAC;;kDACC,uRAAC;wCAAG,WAAU;kDACX,IAAI,OAAO,CAAC,MAAM;;;;;;kDAErB,uRAAC;wCAAG,WAAU;kDACX,OAAO;;;;;;;+BALF;;;;;;;;;;kCAWd,uRAAC,oLAAS;wBAAC,WAAU;;;;;;kCAErB,uRAAC,iLAAW;;0CACV,uRAAC,8KAAM;gCAAC,OAAO;0CACb,cAAA,uRAAC;oCACC,MAAM,CAAC,OAAO,EAAE,YAAY,EAAE,CAAC,KAAK,CAAC;oCACrC,WAAU;8CACX;;;;;;;;;;;0CAIH,uRAAC,8KAAM;gCAAC,OAAO;0CACb,cAAA,uRAAC;oCACC,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf","debugId":null}}]
}