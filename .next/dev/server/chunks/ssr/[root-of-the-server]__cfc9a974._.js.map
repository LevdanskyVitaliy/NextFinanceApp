{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/vitaliylevdansky/Desktop/PROGRAMMING/prog/my-app-router/my-app/app/services/logic.ts"],"sourcesContent":["\ninterface Transaction {\n  id: number;\n  [key: string]: any;\n}\n\ninterface SortOptions {\n  field: string;\n  direction: 'asc' | 'desc';\n}\n\ninterface Params {\n  page?: number;\n  limit?: number;\n  filters?: Record<string, any>;\n  sort?: SortOptions;\n}\n\ninterface Category {\n  id: string | number\n  name: string\n}\n\nclass Api {\n  #baseURL = \"http://localhost:3000\";\n  #categoriesCache: Category [] | null = null;\n\n  async #fetch(path: string, options?: RequestInit): Promise<any> {\n    const response = await fetch(this.#baseURL + path, options)\n    if (!response.ok) {\n      // You can read plain text error message here\n      const text = await response.text()\n      throw new Error(`HTTP error ${response.status}: ${text}`)\n    }\n    // This assumes a JSON response if status OK\n    return await response.json()\n  }\n\n  // getAllCategories = async (): Promise<any[] | null> => {\n  //   if (!this.#categoriesCache) {\n  //     this.#categoriesCache = await this.#fetch(\"/categories\");\n  //   }\n  //   return this.#categoriesCache;\n  // };\n\n  getAllCategories = async (): Promise<Category[]> => {\n    if (!this.#categoriesCache) {\n      const categories = await this.#fetch(\"/categories\");\n      this.#categoriesCache = Array.isArray(categories) ? categories : [];\n    }\n    return this.#categoriesCache;\n  };\n\n  createTransaction = (transaction: Transaction): Promise<any> => {\n    // Should the cache always be cleared? Review if necessary\n    this.#categoriesCache = null;\n    return this.#fetch(\"/transactions\", { method: \"POST\", body: JSON.stringify(transaction) });\n  };\n\n  deleteTransaction = (id: number | string): Promise<void> =>\n    this.#fetch(`/transactions/${id}`, { method: \"DELETE\" });\n\n  updateTransaction = (id: number | string, updates: Partial<Transaction>): Promise<any> =>\n    this.#fetch(`/transactions/${id}`, { method: \"PATCH\", body: JSON.stringify(updates) });\n\n  async getTransactions(params: Params = {}): Promise<any> {\n    const { page = 1, limit = 10, filters = {}, sort = { field: '', direction: 'asc' } } = params;\n    const query = new URLSearchParams({ _page: page.toString(), _per_page: limit.toString(), ...filters });\n\n    if (sort.field) {\n      query.set(\"_sort\", sort.direction === \"desc\" ? `-${sort.field}` : sort.field);\n    }\n\n    const result = await this.#fetch(`/transactions?${query.toString()}`);\n    return { ...result, currentPage: page };\n  }\n}\n\nexport default Api;\n"],"names":[],"mappings":";;;;AAuBA,MAAM;IACJ,CAAA,OAAQ,GAAG,wBAAwB;IACnC,CAAA,eAAgB,GAAuB,KAAK;IAE5C,MAAM,CAAA,KAAM,CAAC,IAAY,EAAE,OAAqB;QAC9C,MAAM,WAAW,MAAM,MAAM,IAAI,CAAC,CAAA,OAAQ,GAAG,MAAM;QACnD,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,6CAA6C;YAC7C,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,MAAM,IAAI,MAAM,CAAC,WAAW,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,MAAM;QAC1D;QACA,4CAA4C;QAC5C,OAAO,MAAM,SAAS,IAAI;IAC5B;IAEA,0DAA0D;IAC1D,kCAAkC;IAClC,gEAAgE;IAChE,MAAM;IACN,kCAAkC;IAClC,KAAK;IAEL,mBAAmB;QACjB,IAAI,CAAC,IAAI,CAAC,CAAA,eAAgB,EAAE;YAC1B,MAAM,aAAa,MAAM,IAAI,CAAC,CAAA,KAAM,CAAC;YACrC,IAAI,CAAC,CAAA,eAAgB,GAAG,MAAM,OAAO,CAAC,cAAc,aAAa,EAAE;QACrE;QACA,OAAO,IAAI,CAAC,CAAA,eAAgB;IAC9B,EAAE;IAEF,oBAAoB,CAAC;QACnB,0DAA0D;QAC1D,IAAI,CAAC,CAAA,eAAgB,GAAG;QACxB,OAAO,IAAI,CAAC,CAAA,KAAM,CAAC,iBAAiB;YAAE,QAAQ;YAAQ,MAAM,KAAK,SAAS,CAAC;QAAa;IAC1F,EAAE;IAEF,oBAAoB,CAAC,KACnB,IAAI,CAAC,CAAA,KAAM,CAAC,CAAC,cAAc,EAAE,IAAI,EAAE;YAAE,QAAQ;QAAS,GAAG;IAE3D,oBAAoB,CAAC,IAAqB,UACxC,IAAI,CAAC,CAAA,KAAM,CAAC,CAAC,cAAc,EAAE,IAAI,EAAE;YAAE,QAAQ;YAAS,MAAM,KAAK,SAAS,CAAC;QAAS,GAAG;IAEzF,MAAM,gBAAgB,SAAiB,CAAC,CAAC,EAAgB;QACvD,MAAM,EAAE,OAAO,CAAC,EAAE,QAAQ,EAAE,EAAE,UAAU,CAAC,CAAC,EAAE,OAAO;YAAE,OAAO;YAAI,WAAW;QAAM,CAAC,EAAE,GAAG;QACvF,MAAM,QAAQ,IAAI,gBAAgB;YAAE,OAAO,KAAK,QAAQ;YAAI,WAAW,MAAM,QAAQ;YAAI,GAAG,OAAO;QAAC;QAEpG,IAAI,KAAK,KAAK,EAAE;YACd,MAAM,GAAG,CAAC,SAAS,KAAK,SAAS,KAAK,SAAS,CAAC,CAAC,EAAE,KAAK,KAAK,EAAE,GAAG,KAAK,KAAK;QAC9E;QAEA,MAAM,SAAS,MAAM,IAAI,CAAC,CAAA,KAAM,CAAC,CAAC,cAAc,EAAE,MAAM,QAAQ,IAAI;QACpE,OAAO;YAAE,GAAG,MAAM;YAAE,aAAa;QAAK;IACxC;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Users/vitaliylevdansky/Desktop/PROGRAMMING/prog/my-app-router/my-app/app/%28auth%29/users/%5Bid%5D/page.tsx"],"sourcesContent":["// // import Link from 'next/link'\n// // import { users } from '../../../user-data'\n// // import { notFound } from 'next/navigation'\n// // import { Button } from \"@/components/ui/button\"\n// // import {\n// //   Item,\n// //   ItemActions,\n// //   ItemContent,\n// //   ItemDescription,\n// //   ItemTitle,\n// // } from \"@/components/ui/item\"\n\n\n// // export default async function UserPage({ params }: { params: { id: string } }) {\n// //   const { id } = await params\n// //   const user = users.find((user) => user.id === id)\n// //   if (!user) {\n// //     return notFound()\n// //   }\n// //   return (\n// //     <div className=\"flex flex-col gap-2 m-5 bg-white border-black border-2 max-w-2xs p-10 rounded-md\">\n// //       <Link href={`/users/${user.id}/edit`} className='bg-blue-500 rounded-xl p-2 max-w-12'>Edit</Link>\n// //       User: {user.name}\n// //       <Link href=\"/users\">Back to users</Link>\n// //     </div>\n// //   )\n// // }\n\n// // export function ItemVariant() {\n// //   return (\n// //     <div className=\"flex flex-col gap-6 bg-black\">\n// //       <Item>\n// //         <ItemContent>\n// //           <ItemTitle>Default Variant</ItemTitle>\n// //           <ItemDescription>\n// //             Standard styling with subtle background and borders.\n// //           </ItemDescription>\n// //         </ItemContent>\n// //         <ItemActions>\n// //           <Button variant=\"outline\" size=\"sm\">\n// //             Open\n// //           </Button>\n// //         </ItemActions>\n// //       </Item>\n// //       <Item variant=\"outline\">\n// //         <ItemContent>\n// //           <ItemTitle>Outline Variant</ItemTitle>\n// //           <ItemDescription>\n// //             Outlined style with clear borders and transparent background.\n// //           </ItemDescription>\n// //         </ItemContent>\n// //         <ItemActions>\n// //           <Button variant=\"outline\" size=\"sm\">\n// //             Open\n// //           </Button>\n// //         </ItemActions>\n// //       </Item>\n// //       <Item variant=\"muted\">\n// //         <ItemContent>\n// //           <ItemTitle>Muted Variant</ItemTitle>\n// //           <ItemDescription>\n// //             Subdued appearance with muted colors for secondary content.\n// //           </ItemDescription>\n// //         </ItemContent>\n// //         <ItemActions>\n// //           <Button variant=\"outline\" size=\"sm\">\n// //             Open\n// //           </Button>\n// //         </ItemActions>\n// //       </Item>\n// //     </div>\n// //   )\n// // }\n\n\n// import Link from 'next/link'\n// import { users } from '../../../user-data'\n// import { notFound } from 'next/navigation'\n// import { Separator } from \"@/components/ui/separator\" \n// import {\n//   Item,\n//   ItemActions,\n//   ItemContent,\n//   ItemDescription,\n//   ItemTitle,\n// } from \"@/components/ui/item\"\n\n// export default async function UserPage({ params }: { params: { id: string } }) {\n//   const { id } = await params // params не промис, await не нужен\n\n//   const user = users.find((user) => user.id === id)\n//   if (!user) {\n//     return notFound()\n//   }\n\n//   return (\n//     <div className=\"max-w-xl p-5 rounded-md border-2 border-black dark:border-white dark:bg-[#0c1017] flex flex-col gap-2 \">\n     \n      \n//       <Item variant=\"muted\">\n//         <ItemContent>\n//           <ItemTitle>User: {user.name}</ItemTitle>\n//           <ItemDescription>Phone Number: {user.phoneNumber}</ItemDescription>\n           \n//           <Separator className=\"my-4\" />\n//           <ItemActions>\n          \n//         <Link href={`/users/${user.id}/edit`} className=\"max-w-12 rounded-xl bg-blue-500 p-2\">\n//         Edit\n//       </Link>\n//       <Link href=\"/users\">Back to users</Link>\n//         </ItemActions>\n      \n\n//         </ItemContent>\n       \n       \n//       </Item>\n      \n     \n//     </div>\n//   )\n// }\n\n\n// app/transactions/[id]/page.tsx\nimport { notFound } from \"next/navigation\";\nimport Api from \"../../../services/logic\"\n\n\ninterface Props {\n  params: { id: string };\n}\n\ninterface Transaction {\n  id: number\n  amount: number\n  date: string\n  category: string\n  description: string\n  type: \"expense\" | \"income\" | string\n}\n\nexport default async function TransactionPage({ params }: Props) {\n  const { id } = params;\n  const api = new Api();\n\n  // Fetch all transactions (your API has no single transaction fetch)\n  const allTransactions = await api.getTransactions({ page: 1, limit: 1000 });\n\n  // Find transaction by id (string coercion for robustness)\n  const transaction = allTransactions.data.find(\n    (tx: Transaction) => String(tx.id) === id\n  );\n\n  if (!transaction) {\n    return notFound();\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4 p-4\">\n      <h1 className=\"text-xl font-semibold mb-4\">Transaction Details</h1>\n      <dl className=\"grid grid-cols-2 gap-6\">\n        {Object.entries(transaction).map(([key, value]) => (\n          <div key={key} className=\"border-b border-gray-300 dark:border-gray-700 pb-2\">\n            <dt className=\"font-medium text-gray-600 dark:text-gray-400 capitalize\">{key.replace(/_/g, ' ')}</dt>\n            <dd className=\"text-gray-900 dark:text-gray-200\">{String(value)}</dd>\n          </div>\n        ))}\n      </dl>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,kCAAkC;AAClC,gDAAgD;AAChD,gDAAgD;AAChD,qDAAqD;AACrD,cAAc;AACd,aAAa;AACb,oBAAoB;AACpB,oBAAoB;AACpB,wBAAwB;AACxB,kBAAkB;AAClB,mCAAmC;AAGnC,sFAAsF;AACtF,mCAAmC;AACnC,yDAAyD;AACzD,oBAAoB;AACpB,2BAA2B;AAC3B,SAAS;AACT,gBAAgB;AAChB,4GAA4G;AAC5G,6GAA6G;AAC7G,6BAA6B;AAC7B,oDAAoD;AACpD,gBAAgB;AAChB,SAAS;AACT,OAAO;AAEP,qCAAqC;AACrC,gBAAgB;AAChB,wDAAwD;AACxD,kBAAkB;AAClB,2BAA2B;AAC3B,sDAAsD;AACtD,iCAAiC;AACjC,sEAAsE;AACtE,kCAAkC;AAClC,4BAA4B;AAC5B,2BAA2B;AAC3B,oDAAoD;AACpD,sBAAsB;AACtB,yBAAyB;AACzB,4BAA4B;AAC5B,mBAAmB;AACnB,oCAAoC;AACpC,2BAA2B;AAC3B,sDAAsD;AACtD,iCAAiC;AACjC,+EAA+E;AAC/E,kCAAkC;AAClC,4BAA4B;AAC5B,2BAA2B;AAC3B,oDAAoD;AACpD,sBAAsB;AACtB,yBAAyB;AACzB,4BAA4B;AAC5B,mBAAmB;AACnB,kCAAkC;AAClC,2BAA2B;AAC3B,oDAAoD;AACpD,iCAAiC;AACjC,6EAA6E;AAC7E,kCAAkC;AAClC,4BAA4B;AAC5B,2BAA2B;AAC3B,oDAAoD;AACpD,sBAAsB;AACtB,yBAAyB;AACzB,4BAA4B;AAC5B,mBAAmB;AACnB,gBAAgB;AAChB,SAAS;AACT,OAAO;AAGP,+BAA+B;AAC/B,6CAA6C;AAC7C,6CAA6C;AAC7C,yDAAyD;AACzD,WAAW;AACX,UAAU;AACV,iBAAiB;AACjB,iBAAiB;AACjB,qBAAqB;AACrB,eAAe;AACf,gCAAgC;AAEhC,mFAAmF;AACnF,oEAAoE;AAEpE,sDAAsD;AACtD,iBAAiB;AACjB,wBAAwB;AACxB,MAAM;AAEN,aAAa;AACb,+HAA+H;AAG/H,+BAA+B;AAC/B,wBAAwB;AACxB,qDAAqD;AACrD,gFAAgF;AAEhF,2CAA2C;AAC3C,0BAA0B;AAE1B,iGAAiG;AACjG,eAAe;AACf,gBAAgB;AAChB,iDAAiD;AACjD,yBAAyB;AAGzB,yBAAyB;AAGzB,gBAAgB;AAGhB,aAAa;AACb,MAAM;AACN,IAAI;AAGJ,iCAAiC;;;;;;AACjC;AAAA;AACA;;;;AAgBe,eAAe,gBAAgB,EAAE,MAAM,EAAS;IAC7D,MAAM,EAAE,EAAE,EAAE,GAAG;IACf,MAAM,MAAM,IAAI,gJAAG;IAEnB,oEAAoE;IACpE,MAAM,kBAAkB,MAAM,IAAI,eAAe,CAAC;QAAE,MAAM;QAAG,OAAO;IAAK;IAEzE,0DAA0D;IAC1D,MAAM,cAAc,gBAAgB,IAAI,CAAC,IAAI,CAC3C,CAAC,KAAoB,OAAO,GAAG,EAAE,MAAM;IAGzC,IAAI,CAAC,aAAa;QAChB,OAAO,IAAA,8MAAQ;IACjB;IAEA,qBACE,2PAAC;QAAI,WAAU;;0BACb,2PAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,2PAAC;gBAAG,WAAU;0BACX,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,iBAC5C,2PAAC;wBAAc,WAAU;;0CACvB,2PAAC;gCAAG,WAAU;0CAA2D,IAAI,OAAO,CAAC,MAAM;;;;;;0CAC3F,2PAAC;gCAAG,WAAU;0CAAoC,OAAO;;;;;;;uBAFjD;;;;;;;;;;;;;;;;AAQpB","debugId":null}}]
}